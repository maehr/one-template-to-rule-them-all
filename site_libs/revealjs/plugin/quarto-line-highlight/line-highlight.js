window.QuartoLineHighlight=function(){function y(){return/print-pdf/gi.test(window.location.search)||/view=print/gi.test(window.location.search)}const c={step:"|",line:",",lineRange:"-"},L=new RegExp("^[\\d"+Object.values(c).join("")+"]+$");function w(t,e){return L.test(e)?!(y()&&t.getConfig().pdfSeparateFragments!==!0):!1}const p="data-code-line-numbers",h="data-fragment-index";function H(t){t.getRevealElement().querySelectorAll("div.sourceCode").forEach(n=>{if(n.hasAttribute(p)){const i=n.getAttribute(p);n.removeAttribute(p),w(t,i)&&n.querySelectorAll("pre code").forEach(r=>{r.setAttribute(p,i);const f={currentBlock:r},l=v(i);if(l.length>1){let s=parseInt(r.getAttribute(h),10);s=typeof s!="number"||isNaN(s)?null:s;let g=1;l.slice(1).forEach(S=>{var o=r.cloneNode(!0);o.setAttribute("data-code-line-numbers",A([S])),o.classList.add("fragment"),o.querySelectorAll(":scope > span").forEach(m=>{m.hasAttribute("id")&&m.setAttribute("id",m.getAttribute("id").concat("-"+g))}),g=++g,r.parentNode.appendChild(o),b(o),typeof s=="number"?(o.setAttribute(h,s),s+=1):o.removeAttribute(h),o.addEventListener("visible",d.bind(this,o,f)),o.addEventListener("hidden",d.bind(this,o.previousSibling,f))}),r.removeAttribute(h),r.setAttribute(p,A([l[0]]))}const u=typeof r.closest=="function"?r.closest("section:not(.stack)"):null;if(u){const s=function(){d(r,f,!0),u.removeEventListener("visible",s)};u.addEventListener("visible",s)}b(r)})}})}function b(t){const e=v(t.getAttribute(p));e.length&&e[0].forEach(n=>{t.parentNode.classList.add("code-wrapper"),spanToHighlight=[],typeof n.last=="number"?spanToHighlight=[].slice.call(t.querySelectorAll(":scope > span:nth-of-type(n+"+n.first+"):nth-of-type(-n+"+n.last+")")):typeof n.first=="number"&&(spanToHighlight=[].slice.call(t.querySelectorAll(":scope > span:nth-of-type("+n.first+")"))),spanToHighlight.length&&(spanToHighlight.forEach(i=>i.classList.add("highlight-line")),t.classList.add("has-line-highlights"))})}function d(t,e,n){window.cancelAnimationFrame(e.animationFrameID),e.currentBlock&&(t.scrollTop=e.currentBlock.scrollTop),e.currentBlock=t;const i=T(t);let a=t.offsetHeight;const r=window.getComputedStyle(t);a-=parseInt(r.paddingTop)+parseInt(r.paddingBottom);const f=t.scrollTop;let l=i.top+(Math.min(i.bottom-i.top,a)-a)/2;if(l=Math.max(Math.min(l,t.scrollHeight-a),0),n===!0||f===l)t.scrollTop=l;else{if(t.scrollHeight<=a)return;let u=0;const s=function(){u=Math.min(u+.02,1),t.scrollTop=f+(l-f)*E(u),u<1&&(e.animationFrameID=requestAnimationFrame(s))};s()}}function T(t){const e=t.querySelectorAll(".highlight-line");if(e.length===0)return{top:0,bottom:0};{const n=e[0],i=e[e.length-1];return{top:n.offsetTop,bottom:i.offsetTop+i.offsetHeight}}}function E(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t}function v(t){return t=t.replace("/s/g",""),t=t.split(c.step),t.map(e=>e.split(c.line).map(i=>{if(/^[\d-]+$/.test(i)){i=i.split(c.lineRange);const a=parseInt(i[0],10),r=i[1]?parseInt(i[1],10):void 0;return{first:a,last:r}}else return{}}))}function A(t){return t.map(function(e){return e.map(function(n){return typeof n.last=="number"?n.first+c.lineRange+n.last:typeof n.first=="number"?n.first:""}).join(c.line)}).join(c.step)}return{id:"quarto-line-highlight",init:function(t){H(t),t.on("pdf-ready",function(){[].slice.call(t.getRevealElement().querySelectorAll("pre code[data-code-line-numbers].current-fragment")).forEach(function(e){d(e,{},!0)})})}}};
